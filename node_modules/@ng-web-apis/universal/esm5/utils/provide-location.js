/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { SSR_LOCATION } from '../tokens/ssr-location';
import { empty } from './functions';
/**
 * @param {?} req
 * @return {?}
 */
export function provideLocation(req) {
    /** @type {?} */
    var protocol = 'encrypted' in req.socket ? 'https' : 'http';
    /** @type {?} */
    var url = new URL(protocol + "://" + req.headers['host'] + req.url);
    url.assign = empty;
    url.reload = empty;
    url.replace = empty;
    url.ancestorOrigins = new (/** @class */ (function (_super) {
        tslib_1.__extends(class_1, _super);
        function class_1() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @return {?}
         */
        class_1.prototype.contains = /**
         * @return {?}
         */
        function () {
            return false;
        };
        /**
         * @return {?}
         */
        class_1.prototype.item = /**
         * @return {?}
         */
        function () {
            return null;
        };
        return class_1;
    }(Array)))();
    return {
        provide: SSR_LOCATION,
        useValue: url,
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZS1sb2NhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZy13ZWItYXBpcy91bml2ZXJzYWwvIiwic291cmNlcyI6WyJ1dGlscy9wcm92aWRlLWxvY2F0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLHdCQUF3QixDQUFDO0FBQ3BELE9BQU8sRUFBQyxLQUFLLEVBQUMsTUFBTSxhQUFhLENBQUM7Ozs7O0FBRWxDLE1BQU0sVUFBVSxlQUFlLENBQUMsR0FBb0I7O1FBQzFDLFFBQVEsR0FBRyxXQUFXLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNOztRQUN2RCxHQUFHLEdBQVEsSUFBSSxHQUFHLENBQUksUUFBUSxXQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUssQ0FBQztJQUUxRSxHQUFHLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUNuQixHQUFHLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUNuQixHQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUNwQixHQUFHLENBQUMsZUFBZSxHQUFHLElBQUk7UUFBZSxtQ0FBYTtRQUEzQjs7UUFRM0IsQ0FBQzs7OztRQVBHLDBCQUFROzs7UUFBUjtZQUNJLE9BQU8sS0FBSyxDQUFDO1FBQ2pCLENBQUM7Ozs7UUFFRCxzQkFBSTs7O1FBQUo7WUFDSSxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBQ0wsY0FBQztJQUFELENBQUMsQUFSMEIsQ0FBYyxLQUFLLEdBUTVDLEVBQUUsQ0FBQztJQUVMLE9BQU87UUFDSCxPQUFPLEVBQUUsWUFBWTtRQUNyQixRQUFRLEVBQUUsR0FBRztLQUNoQixDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VmFsdWVQcm92aWRlcn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7SW5jb21pbmdNZXNzYWdlfSBmcm9tICdodHRwJztcclxuaW1wb3J0IHtTU1JfTE9DQVRJT059IGZyb20gJy4uL3Rva2Vucy9zc3ItbG9jYXRpb24nO1xyXG5pbXBvcnQge2VtcHR5fSBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZUxvY2F0aW9uKHJlcTogSW5jb21pbmdNZXNzYWdlKTogVmFsdWVQcm92aWRlciB7XHJcbiAgICBjb25zdCBwcm90b2NvbCA9ICdlbmNyeXB0ZWQnIGluIHJlcS5zb2NrZXQgPyAnaHR0cHMnIDogJ2h0dHAnO1xyXG4gICAgY29uc3QgdXJsOiBhbnkgPSBuZXcgVVJMKGAke3Byb3RvY29sfTovLyR7cmVxLmhlYWRlcnNbJ2hvc3QnXX0ke3JlcS51cmx9YCk7XHJcblxyXG4gICAgdXJsLmFzc2lnbiA9IGVtcHR5O1xyXG4gICAgdXJsLnJlbG9hZCA9IGVtcHR5O1xyXG4gICAgdXJsLnJlcGxhY2UgPSBlbXB0eTtcclxuICAgIHVybC5hbmNlc3Rvck9yaWdpbnMgPSBuZXcgKGNsYXNzIGV4dGVuZHMgQXJyYXk8c3RyaW5nPiBpbXBsZW1lbnRzIERPTVN0cmluZ0xpc3Qge1xyXG4gICAgICAgIGNvbnRhaW5zKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpdGVtKCk6IG51bGwge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvdmlkZTogU1NSX0xPQ0FUSU9OLFxyXG4gICAgICAgIHVzZVZhbHVlOiB1cmwsXHJcbiAgICB9O1xyXG59XHJcbiJdfQ==