"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[42629],{42629:(N,p,e)=>{e.r(p),e.d(p,{ExampleTuiEditorEmbedHtml5Module:()=>I});var v=e(12057),l=e(24751),c=e(33982),F=e(29851),d=e(48014),u=e(68339),E=e(76040),o=e(74788),M=e(88331),D=e(37159),f=e(66596),O=e(57068),S=e(64762),g=e(91211),L=e(88002),C=e(69303);class a{constructor(t,n){this.sanitizer=t,this.isCypress=n,this.builtInTools=[d.TuiEditorTool.Undo,d.TuiEditorTool.Link,d.TuiEditorTool.Attach],this.control=new l.NI(`\n            <p>Here is video: </p>\n\n            <video controls="controls" width="100%" preload="${this.isCypress?"none":"auto"}">\n                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">\n            </video>\n\n            <p>Here is audio: </p>\n            <audio controls style="width: 100%" preload="${this.isCypress?"none":"auto"}">\n              <source src="https://www.w3docs.com/build/audios/audio.mp3" type="audio/mp3">\n            </audio>\n\n            <p></p>\n            `,l.kI.required)}safe(t){return this.sanitizer.bypassSecurityTrustHtml(t)}attach([t]){var n,s,m,r,T;const h=`${null!==(s=null===(n=t.attrs)||void 0===n?void 0:n.type)&&void 0!==s?s:""}`.split("/")[0];null===(r=null===(m=this.wysiwyg)||void 0===m?void 0:m.editor)||void 0===r||r.getOriginTiptapEditor().commands.insertContent(`<${h} controls width="100%"><source src="${t.link}" type="${null===(T=t.attrs)||void 0===T?void 0:T.type}"></${h}><p><a href="${t.link}" download="${t.name}">Download ${t.name}</a></p>`)}}function H(i,t){if(1&i&&(o.TgZ(0,"p"),o.tHW(1,2),o._UZ(2,"a",3),o._UZ(3,"a",4),o.N_p(),o.qZA(),o.TgZ(4,"tui-doc-example",5),o._UZ(5,"tui-editor-embed-html5-example-1"),o.qZA()),2&i){const n=o.oxw();o.xp6(4),o.Q6J("content",n.example1)}}a.\u0275fac=function(t){return new(t||a)(o.Y36(g.H7),o.Y36(u.TUI_IS_CYPRESS))},a.\u0275cmp=o.Xpm({type:a,selectors:[["tui-editor-embed-html5-example-1"]],viewQuery:function(t,n){if(1&t&&o.Gf(d.TuiEditorComponent,5),2&t){let s;o.iGM(s=o.CRH())&&(n.wysiwyg=s.first)}},features:[o._Bn([{provide:d.TUI_EDITOR_EXTENSIONS,deps:[o.zs3],useFactory:i=>[Promise.resolve().then(e.bind(e,2823)).then(({StarterKit:t})=>t),Promise.resolve().then(e.bind(e,84402)).then(({TextStyle:t})=>t),Promise.resolve().then(e.bind(e,57734)).then(({TuiLink:t})=>t),e.e(54058).then(e.bind(e,54058)).then(({TuiJumpAnchor:t})=>t),Promise.resolve().then(e.bind(e,93763)).then(({TuiFileLink:t})=>t),Promise.resolve().then(e.bind(e,41512)).then(({TuiVideo:t})=>t),Promise.resolve().then(e.bind(e,41512)).then(({TuiAudio:t})=>t),Promise.resolve().then(e.bind(e,41512)).then(({TuiSource:t})=>t)]},{provide:d.TUI_ATTACH_FILES_LOADER,deps:[],useFactory:()=>([i])=>{const t=new FileReader;return t.readAsDataURL(i),(0,u.tuiTypedFromEvent)(t,"load").pipe((0,L.U)(()=>[{name:i.name,link:String(t.result),attrs:{type:i.type}}]))}},{provide:d.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"video/mp4,video/x-m4v,video/*,audio/x-m4a,audio/*",multiple:!1}}])],decls:8,vars:4,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"innerHTML"]],template:function(t,n){1&t&&(o.TgZ(0,"tui-editor",0),o.NdJ("fileAttached",function(m){return n.attach(m)}),o.qZA(),o.TgZ(1,"h4"),o._uU(2,"HTML:"),o.qZA(),o._UZ(3,"div",1),o.TgZ(4,"h4"),o._uU(5,"Text:"),o.qZA(),o.TgZ(6,"p"),o._uU(7),o.qZA()),2&t&&(o.Q6J("formControl",n.control)("tools",n.builtInTools),o.xp6(3),o.Q6J("innerHTML",n.safe(n.control.value),o.oJD),o.xp6(4),o.Oqu(n.control.value))},directives:[C.a,l.JJ,l.oH],encapsulation:2,changeDetection:0}),(0,S.gn)([u.tuiPure],a.prototype,"safe",null);let y=(()=>{class i{constructor(){this.example1={HTML:e.e(59762).then(e.t.bind(e,59762,17)),TypeScript:e.e(13436).then(e.t.bind(e,13436,17))}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["editor-embed-html5"]],features:[o._Bn([{provide:d.TUI_EDITOR_EXTENSIONS,useValue:d.defaultEditorExtensions}])],decls:2,vars:0,consts:function(){let t,n;return t=$localize`:␟7384ac6e9673eac2ca0755fd1c7a8f4cd617d393␟6878290531283347707: Rich Text Editor based on ${"\ufffd#2\ufffd"}:START_LINK: TipTap Editor ${"[\ufffd/#2\ufffd|\ufffd/#3\ufffd]"}:CLOSE_LINK: for using with Angular forms. For safety reasons use a ${"\ufffd#3\ufffd"}:START_LINK_1: sanitizer ${"[\ufffd/#2\ufffd|\ufffd/#3\ufffd]"}:CLOSE_LINK: with this component. `,t=o.Zx4(t),n=$localize`:␟66cc1cb4baf1c79f0b9fdd26237b803760c014e4␟1205466532161122710:Video and audio / html5 native`,[["header","Editor - HTML5","package","ADDON-EDITOR","type","components"],["pageTab",""],t,["tuiLink","","href","https://www.tiptap.dev/"],["tuiLink","","routerLink","/icon-set","fragment","sanitizer"],["id","video-audio","heading",n,3,"content"]]},template:function(n,s){1&n&&(o.TgZ(0,"tui-doc-page",0),o.YNc(1,H,6,1,"ng-template",1),o.qZA())},directives:[M.q,D.n,f.V,c.yS,O.f,a],encapsulation:2,changeDetection:0}),i})(),I=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[v.ez,u.TuiActiveZoneModule,E.TuiSvgModule,E.TuiLinkModule,E.TuiHostedDropdownModule,E.TuiButtonModule,F.fV,l.u5,l.UX,d.TuiEditorModule,d.TuiEditorSocketModule,c.Bz.forChild((0,F.Ve)(y))]]}),i})()}}]);