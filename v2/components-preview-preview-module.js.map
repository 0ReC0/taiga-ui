{"version":3,"sources":["./src/modules/components/preview/examples/1/index.ts","./src/modules/components/preview/examples/1/index.html","./src/modules/components/preview/examples/2/index.ts","./src/modules/components/preview/examples/2/index.html","./src/modules/components/preview/examples/3/index.ts","./src/modules/components/preview/examples/3/index.html","./src/modules/components/preview/preview.component.ts","./src/modules/components/preview/preview.template.html","./src/modules/components/preview/preview.module.ts"],"names":[],"mappings":"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","file":"components-preview-preview-module.js","sourcesContent":["import {Component, Inject, TemplateRef, ViewChild} from '@angular/core';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {encapsulation} from '@demo/emulate/encapsulation';\nimport {PreviewDialogService} from '@taiga-ui/addon-preview';\nimport {clamp, TuiSwipe} from '@taiga-ui/cdk';\nimport {TuiAlertService, TuiDialogContext} from '@taiga-ui/core';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\n\n@Component({\n    selector: `tui-preview-example-1`,\n    templateUrl: `./index.html`,\n    styleUrls: [`./index.less`],\n    changeDetection,\n    encapsulation,\n})\nexport class TuiPreviewExample1 {\n    @ViewChild(`preview`)\n    readonly preview?: TemplateRef<TuiDialogContext<void>>;\n\n    @ViewChild(`contentSample`)\n    readonly contentSample?: TemplateRef<Record<string, unknown>>;\n\n    index = 0;\n    length = 2;\n\n    constructor(\n        @Inject(PreviewDialogService)\n        private readonly previewService: PreviewDialogService,\n        @Inject(TuiAlertService)\n        private readonly alertService: TuiAlertService,\n    ) {}\n\n    get title(): string {\n        return this.index === 0 ? `Transaction cert.jpg` : `My face.jpg`;\n    }\n\n    get previewContent(): PolymorpheusContent {\n        return this.index === 0 && this.contentSample\n            ? this.contentSample\n            : `http://marsibarsi.me/images/1x1small.jpg`;\n    }\n\n    show(): void {\n        this.previewService.open(this.preview || ``).subscribe({\n            complete: () => console.info(`complete`),\n        });\n    }\n\n    download(): void {\n        this.alertService.open(`Downloading...`).subscribe();\n    }\n\n    delete(): void {\n        this.alertService.open(`Deleting...`).subscribe();\n    }\n\n    onSwipe(swipe: TuiSwipe): void {\n        if (swipe.direction === `left`) {\n            this.index = clamp(this.index + 1, 0, this.length - 1);\n        }\n\n        if (swipe.direction === `right`) {\n            this.index = clamp(this.index - 1, 0, this.length - 1);\n        }\n    }\n}\n","<div class=\"tui-space_bottom-2\">With all features</div>\n\n<button\n    tuiButton\n    size=\"m\"\n    type=\"button\"\n    class=\"tui-space_bottom-4\"\n    (click)=\"show()\"\n>\n    Show preview\n</button>\n\n<ng-template\n    #preview\n    let-preview\n>\n    <tui-preview\n        [rotatable]=\"true\"\n        (tuiSwipe)=\"onSwipe($event)\"\n    >\n        <tui-preview-title>{{ title }}</tui-preview-title>\n        <tui-preview-pagination\n            [length]=\"length\"\n            [(index)]=\"index\"\n        ></tui-preview-pagination>\n\n        <button\n            tuiIconButton\n            tuiPreviewAction\n            icon=\"tuiIconTrash\"\n            title=\"Delete\"\n            (click)=\"delete()\"\n        ></button>\n        <button\n            tuiIconButton\n            tuiPreviewAction\n            icon=\"tuiIconDownload\"\n            title=\"Download\"\n            (click)=\"download()\"\n        ></button>\n        <button\n            tuiPreviewAction\n            tuiIconButton\n            icon=\"tuiIconCloseLarge\"\n            title=\"Close\"\n            (click)=\"preview.complete()\"\n        ></button>\n\n        <div\n            polymorpheus-outlet\n            [content]=\"previewContent\"\n        >\n            <ng-template let-src>\n                <img\n                    alt=\"\"\n                    [src]=\"src\"\n                />\n            </ng-template>\n        </div>\n    </tui-preview>\n</ng-template>\n\n<ng-template #contentSample>\n    <div class=\"content\">\n        <h1>Important document</h1>\n\n        <p>Hello everyone! This is some important document in A4 format, although it is made using html</p>\n\n        <p>\n            This shows that the component preview can work with absolutely any content: this way you can show any\n            template, image, pdf or even iframe with your favorite site. We will put this content in the center of the\n            portal and provide the user with control over it, and we will provide you with convenient levers to change\n            it and process actions.\n        </p>\n\n        <img\n            src=\"https://github.com/tinkoff/ng-polymorpheus/raw/master/projects/demo/assets/logo.svg\"\n            class=\"polymorpheus\"\n        />\n    </div>\n</ng-template>\n","import {Component, Inject, TemplateRef, ViewChild} from '@angular/core';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {encapsulation} from '@demo/emulate/encapsulation';\nimport {PreviewDialogService} from '@taiga-ui/addon-preview';\nimport {TuiDialogContext} from '@taiga-ui/core';\n\n@Component({\n    selector: `tui-preview-example-2`,\n    templateUrl: `./index.html`,\n    styleUrls: [`./index.less`],\n    changeDetection,\n    encapsulation,\n})\nexport class TuiPreviewExample2 {\n    @ViewChild(`preview`)\n    readonly preview?: TemplateRef<TuiDialogContext<void>>;\n\n    constructor(\n        @Inject(PreviewDialogService)\n        private readonly previewDialogService: PreviewDialogService,\n    ) {}\n\n    show(): void {\n        this.previewDialogService.open(this.preview || ``).subscribe();\n    }\n}\n","<button\n    tuiButton\n    size=\"m\"\n    type=\"button\"\n    class=\"tui-space_bottom-4\"\n    (click)=\"show()\"\n>\n    Show simple preview\n</button>\n\n<ng-template\n    #preview\n    let-preview\n>\n    <tui-preview\n        [rotatable]=\"false\"\n        [zoomable]=\"false\"\n    >\n        <iframe\n            src=\"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1\"\n            frameborder=\"0\"\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n            allowfullscreen\n            class=\"content\"\n        ></iframe>\n\n        <button\n            tuiIconButton\n            tuiPreviewAction\n            icon=\"tuiIconCloseLarge\"\n            title=\"Close\"\n            (click)=\"preview.complete()\"\n        ></button>\n    </tui-preview>\n</ng-template>\n","import {Component, Inject, TemplateRef, ViewChild} from '@angular/core';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {encapsulation} from '@demo/emulate/encapsulation';\nimport {PreviewDialogService} from '@taiga-ui/addon-preview';\nimport {isPresent} from '@taiga-ui/cdk';\nimport {TuiDialogContext} from '@taiga-ui/core';\nimport {BehaviorSubject, Observable, of, timer} from 'rxjs';\nimport {filter, map, mapTo, startWith, switchMap} from 'rxjs/operators';\n\n@Component({\n    selector: `tui-preview-example-3`,\n    templateUrl: `./index.html`,\n    styleUrls: [`./index.less`],\n    changeDetection,\n    encapsulation,\n})\nexport class TuiPreviewExample3 {\n    @ViewChild(`preview`)\n    readonly preview?: TemplateRef<TuiDialogContext<void>>;\n\n    readonly items = [\n        {\n            title: `some table.xlsx`,\n            hasPreview: false,\n        },\n        {\n            title: `Content #2`,\n            hasPreview: true,\n        },\n    ];\n\n    readonly index$$ = new BehaviorSubject<number>(0);\n\n    readonly item$ = this.index$$.pipe(\n        map(index => this.items[index]),\n        filter(isPresent),\n    );\n\n    readonly title$ = this.item$.pipe(map(item => item.title));\n\n    readonly contentUnavailable$ = this.item$.pipe(map(item => !item.hasPreview));\n\n    readonly imageSrc$ = this.item$.pipe(\n        switchMap(item =>\n            item.hasPreview ? this.emulateBackendRequest().pipe(startWith(``)) : of(null),\n        ),\n    );\n\n    readonly loading$ = this.imageSrc$.pipe(map(src => src === ``));\n\n    constructor(\n        @Inject(PreviewDialogService)\n        private readonly previewDialogService: PreviewDialogService,\n    ) {}\n\n    show(): void {\n        this.previewDialogService.open(this.preview || ``).subscribe();\n    }\n\n    download(): void {\n        console.info(`downloading...`);\n    }\n\n    emulateBackendRequest(): Observable<string> {\n        return timer(1500).pipe(\n            mapTo(`https://ng-web-apis.github.io/dist/assets/images/web-api.svg`),\n        );\n    }\n}\n","<button\n    tuiButton\n    size=\"m\"\n    type=\"button\"\n    class=\"tui-space_bottom-4\"\n    (click)=\"show()\"\n>\n    Show preview\n</button>\n\n<ng-template\n    #preview\n    let-preview\n>\n    <tui-preview\n        [rotatable]=\"!(contentUnavailable$ | async)\"\n        [zoomable]=\"!(contentUnavailable$ | async) && !(loading$ | async)\"\n    >\n        <tui-preview-title>{{ title$ | async }}</tui-preview-title>\n        <tui-preview-pagination\n            [length]=\"items.length\"\n            [index]=\"index$$.value\"\n            (indexChange)=\"index$$.next($event)\"\n        ></tui-preview-pagination>\n\n        <button\n            tuiIconButton\n            tuiPreviewAction\n            icon=\"tuiIconDownload\"\n            title=\"Download\"\n            (click)=\"download()\"\n        ></button>\n\n        <button\n            tuiIconButton\n            tuiPreviewAction\n            icon=\"tuiIconCloseLarge\"\n            title=\"Close\"\n            (click)=\"preview.complete()\"\n        ></button>\n\n        <ng-container *ngIf=\"contentUnavailable$ | async\">\n            <div class=\"t-container\">\n                <tui-svg\n                    src=\"tuiIconFileLarge\"\n                    class=\"t-icon\"\n                ></tui-svg>\n                <div>Preview unavailable</div>\n            </div>\n        </ng-container>\n\n        <img\n            *ngIf=\"imageSrc$ | async as src\"\n            width=\"512\"\n            height=\"512\"\n            [src]=\"src\"\n        />\n\n        <tui-loader\n            *ngIf=\"loading$ | async\"\n            size=\"xl\"\n            class=\"t-loader\"\n        ></tui-loader>\n    </tui-preview>\n</ng-template>\n","import {Component} from '@angular/core';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {TuiDocExample} from '@taiga-ui/addon-doc';\n\n@Component({\n    selector: `example-preview`,\n    templateUrl: `./preview.template.html`,\n    changeDetection,\n})\nexport class ExampleTuiPreviewComponent {\n    readonly exampleModule = import(`!!raw-loader!./examples/import/import-module.md`);\n    readonly exampleComponent = import(`!!raw-loader!./examples/import/component.md`);\n    readonly exampleHtml = import(`!!raw-loader!./examples/import/template.md`);\n\n    readonly example1: TuiDocExample = {\n        TypeScript: import(`!!raw-loader!./examples/1/index.ts`),\n        LESS: import(`!!raw-loader!./examples/1/index.less`),\n        HTML: import(`!!raw-loader!./examples/1/index.html`),\n    };\n\n    readonly example2: TuiDocExample = {\n        TypeScript: import(`!!raw-loader!./examples/2/index.ts`),\n        LESS: import(`!!raw-loader!./examples/2/index.less`),\n        HTML: import(`!!raw-loader!./examples/2/index.html`),\n    };\n\n    readonly example3: TuiDocExample = {\n        TypeScript: import(`!!raw-loader!./examples/3/index.ts`),\n        LESS: import(`!!raw-loader!./examples/3/index.less`),\n        HTML: import(`!!raw-loader!./examples/3/index.html`),\n    };\n}\n","<tui-doc-page\n    header=\"Preview\"\n    package=\"ADDON-PREVIEW\"\n>\n    <ng-template pageTab>\n        <p i18n>\n            Preview component allows to open modal for viewing some document and to work with it (download, zoom, rotate\n            etc)\n        </p>\n\n        <p>As a document you can provide any content like images,</p>\n\n        <tui-notification class=\"tui-space_bottom-4\">\n            The component automatically adjusts to the mobile device\n        </tui-notification>\n\n        <tui-doc-example\n            id=\"default\"\n            i18n-heading\n            heading=\"Full preview\"\n            [content]=\"example1\"\n        >\n            <tui-preview-example-1></tui-preview-example-1>\n        </tui-doc-example>\n\n        <tui-doc-example\n            id=\"simple\"\n            i18n-heading\n            heading=\"Simple mode\"\n            [content]=\"example2\"\n        >\n            <tui-preview-example-2></tui-preview-example-2>\n        </tui-doc-example>\n\n        <tui-doc-example\n            id=\"loading\"\n            i18n-heading\n            heading=\"With loading and unavailable image\"\n            [content]=\"example3\"\n        >\n            <tui-preview-example-3></tui-preview-example-3>\n        </tui-doc-example>\n    </ng-template>\n\n    <ng-template pageTab=\"Setup\">\n        <ol class=\"b-demo-steps\">\n            <li>\n                Add\n                <code>TuiPreviewModule</code>\n                to main module:\n\n                <tui-doc-code\n                    filename=\"app.module.ts\"\n                    [code]=\"exampleModule\"\n                ></tui-doc-code>\n            </li>\n\n            <li>\n                Create a template with tui-preview\n\n                <tui-doc-code\n                    filename=\"some.component.html\"\n                    [code]=\"exampleHtml\"\n                ></tui-doc-code>\n            </li>\n\n            <li>\n                Open the component from the\n                <code>PreviewDialogService</code>\n                as in the example\n\n                <tui-doc-code\n                    filename=\"some.component.ts\"\n                    [code]=\"exampleComponent\"\n                ></tui-doc-code>\n            </li>\n        </ol>\n    </ng-template>\n</tui-doc-page>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {RouterModule} from '@angular/router';\nimport {generateRoutes, TuiAddonDocModule} from '@taiga-ui/addon-doc';\nimport {TuiPreviewModule} from '@taiga-ui/addon-preview';\nimport {TuiSwipeModule} from '@taiga-ui/cdk';\nimport {\n    TuiButtonModule,\n    TuiLoaderModule,\n    TuiNotificationModule,\n    TuiSvgModule,\n} from '@taiga-ui/core';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPreviewExample1} from './examples/1';\nimport {TuiPreviewExample2} from './examples/2';\nimport {TuiPreviewExample3} from './examples/3';\nimport {ExampleTuiPreviewComponent} from './preview.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiButtonModule,\n        TuiPreviewModule,\n        TuiNotificationModule,\n        TuiAddonDocModule,\n        TuiSvgModule,\n        TuiLoaderModule,\n        TuiSwipeModule,\n        RouterModule.forChild(generateRoutes(ExampleTuiPreviewComponent)),\n    ],\n    declarations: [\n        ExampleTuiPreviewComponent,\n        TuiPreviewExample1,\n        TuiPreviewExample2,\n        TuiPreviewExample3,\n    ],\n    exports: [ExampleTuiPreviewComponent],\n})\nexport class ExampleTuiPreviewModule {}\n"],"sourceRoot":"webpack:///"}