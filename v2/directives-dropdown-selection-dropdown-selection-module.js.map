{"version":3,"sources":["./src/modules/directives/dropdown-selection/dropdown-selection.component.ts","./src/modules/directives/dropdown-selection/dropdown-selection.template.html","./src/modules/directives/dropdown-selection/dropdown-selection.module.ts","./src/modules/directives/dropdown-selection/examples/1/index.ts","./src/modules/directives/dropdown-selection/examples/1/index.html","./src/modules/directives/dropdown-selection/examples/2/index.ts","./src/modules/directives/dropdown-selection/examples/2/index.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACuB;AAQvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICHhB,oEACI;IADJ,oEACI;IAAA,kEAAM;IAEV,yDAAI;IAAJ,4DAAI;IAEJ,qFAMI;IANJ,sEAMI;IAAA,8FAAqE;IACzE,4DAAkB;IAElB,qFAKI;IAAA,8FAAqE;IACzE,4DAAkB;;;IAXd,0DAAoB;IAApB,oFAAoB;IAQpB,0DAAoB;IAApB,oFAAoB;;;;;;;;;;;;;;;;;;;IAwBhB,0EAII;IAJJ,oEAII;IACA,+DAAG;IACH,wEAII;IAER,yDAAM;IAAN,4DAAM;;;;;;;;;;;;;;;;;;;;;;;IAqBN,kEAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAwCN,kEAAM;;;;;;;;;;;;;;;;;;;;;;;;IAiBN,oEAAQ;IAER,kEAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;IA7Gd,+EACI;IAAA,uEAYI;IAZJ,oEAYI;IACA,oEAAQ;IACZ,yDAAI;IAAJ,4DAAI;IACJ,0OACI;IAcR,4DAAe;IACf,wFACI;IAAA,8JAMI;IAEJ,8JAQI;IAFA,kaAAiD;IAMrD,8JAQI;IAFA,saAAqD;IAIzD,gKAMI;IAGJ,iKAQI;IAFA,waAAsD;IAI1D,iKAOI;IAFA,uaAAqD;IAKzD,iKAOI;IAFA,uaAAqD;IAIzD,iKAMI;IAKJ,iKAQI;IAFA,2ZAAyC;IAI7C,iKAOI;IAFA,maAAiD;IAIzD,4DAAwB;;;;IA/HhB,0DAAyC;IAAzC,yGAAyC;IA0CzC,0DAA6C;IAA7C,6GAA6C;IAY7C,0DAAyD;IAAzD,yHAAyD;IAmBzD,0DAA6D;IAA7D,6HAA6D;IAU7D,0DAAqD;IAArD,mHAAqD;IAUrD,0DAAqD;IAArD,mHAAqD;IAoBrD,0DAAgD;IAAhD,gHAAgD;IAUhD,0DAAiD;IAAjD,+GAAiD;;;;;;;;;;;;;;;;;;;IAQzD,yEACI;IAAA,qEACI;IAAA,oEACI;IADJ,qEACI;IACA,kEAAM;IAEV,yDAAI;IAAJ,4DAAI;IAEJ,8EAGgB;IACpB,4DAAK;IAEL,qEACI;IAAA,oEAAQ;IAAR,gEAAQ;IAAoB,4DAAI;IAEhC,8EAGgB;IACpB,4DAAK;IACT,4DAAK;;;IAZO,0DAAsB;IAAtB,sFAAsB;IAStB,0DAAoB;IAApB,oFAAoB;;ADtKjC,MAAM,oCAAoC;IANjD;QAOa,kBAAa,GAAG,4VAAyD,CAAC;QAC1E,gBAAW,GAAG,oWAA2D,CAAC;QAE1E,aAAQ,GAAkB;YAC/B,UAAU,EAAE,wSAA4C;YACxD,IAAI,EAAE,gTAA8C;SACvD,CAAC;QAEO,aAAQ,GAAkB;YAC/B,UAAU,EAAE,wSAA4C;YACxD,IAAI,EAAE,gTAA8C;YACpD,IAAI,EAAE,gTAA8C;SACvD,CAAC;QAEF,qBAAgB,GAA2B,CAAC,WAAW,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QAExE,SAAI,GAAG,KAAK,CAAC;QAEb,aAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAEpC,yBAAoB,GAAG,iEAAkB,CAAC;QAE1C,yBAAoB,GAAG,iEAAkB,CAAC;QAE1C,qBAAgB,GAAG,KAAK,CAAC;QAEzB,kBAAa,GAA6B,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAE5D,qBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;QAEhC,8BAAyB,GAAoC;YAClE,KAAK;YACL,QAAQ;SACX,CAAC;QAEF,yBAAoB,GAAgC,IAAI,CAAC;QAEhD,kCAA6B,GAAiC;YACnE,OAAO;YACP,KAAK;YACL,MAAM;SACT,CAAC;QAEF,0BAAqB,GAAsB,IAAI,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC;KACpF;;wHA7CY,oCAAoC;oHAApC,oCAAoC;QClBjD,kFAKI;QAAA,gJACI;QAuBJ,kJACI;QAsIJ,iJACI;QAwBR,4DAAe;;6FD3KF,oCAAoC;cANhD,uDAAS;eAAC;gBACP,QAAQ,EAAE,gCAAgC;gBAC1C,WAAW,EAAE,oCAAoC;gBACjD,SAAS,EAAE,CAAC,iCAAiC,CAAC;gBAC9C,+FAAe;aAClB;;;;;;;;;;;;;;AEjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACN;AACI;AACE;AACyB;AACJ;AAK3C;AACqC;AAEwB;AAC1B;AACA;;;AAsBnD,MAAM,iCAAiC;;gHAAjC,iCAAiC;4LAAjC,iCAAiC,kBAnBjC;YACL,4DAAY;YACZ,0DAAW;YACX,2EAAkB;YAClB,wEAA0B;YAC1B,8DAAe;YACf,+DAAiB;YACjB,6DAAe;YACf,gEAAiB;YACjB,qEAAiB;YACjB,4DAAY,CAAC,QAAQ,CAAC,0EAAc,CAAC,kGAAoC,CAAC,CAAC;SAC9E;mIAQQ,iCAAiC,mBANtC,kGAAoC;QACpC,wEAA4B;QAC5B,yEAA4B,aAd5B,4DAAY;QACZ,0DAAW;QACX,2EAAkB;QAClB,wEAA0B;QAC1B,8DAAe;QACf,+DAAiB;QACjB,6DAAe;QACf,gEAAiB;QACjB,qEAAiB,2EAQX,kGAAoC;6FAErC,iCAAiC;cApB7C,sDAAQ;eAAC;gBACN,OAAO,EAAE;oBACL,4DAAY;oBACZ,0DAAW;oBACX,2EAAkB;oBAClB,wEAA0B;oBAC1B,8DAAe;oBACf,+DAAiB;oBACjB,6DAAe;oBACf,gEAAiB;oBACjB,qEAAiB;oBACjB,4DAAY,CAAC,QAAQ,CAAC,0EAAc,CAAC,kGAAoC,CAAC,CAAC;iBAC9E;gBACD,YAAY,EAAE;oBACV,kGAAoC;oBACpC,wEAA4B;oBAC5B,yEAA4B;iBAC/B;gBACD,OAAO,EAAE,CAAC,kGAAoC,CAAC;aAClD;;;;;;;;;;;;;;ACpCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACuB;AACL;;;AAQnD,MAAM,4BAA4B;;wGAA5B,4BAA4B;4GAA5B,4BAA4B;QCVzC,mGACA;QAAA,uEAKI;QAAA,2FACJ;QAAA,4DAAI;;6FDGS,4BAA4B;cANxC,uDAAS;eAAC;gBACP,QAAQ,EAAE,kCAAkC;gBAC5C,WAAW,EAAE,cAAc;gBAC3B,+FAAe;gBACf,wFAAa;aAChB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AET4E;AACd;AACL;AAC8B;AACtC;AACP;AAE6C;;;;;;;;;;;;ICWhF,4EAKI;IAFA,kfAA8D;IAE9D,uDACA;IAAA,2EAKc;IAClB,4DAAS;;;IAPL,0DACA;IADA,wFACA;IAEI,0DAAgB;IAAhB,yEAAgB;;;;IAb5B,mFAKI;IAFA,uZAAkB,kCAAuC,IAAC;IAE1D,4JAKI;IAQR,4DAAgB;;;;IAZR,0DAAiE;IAAjE,mHAAiE;;;IANzE,0JAKI;;;;IAJA,4FAAuC;;ADQxC,MAAM,4BAA4B;IAPzC;QASqB,YAAO,GAAuC,yDAAW,CAAC;QAE3E,UAAK,GAAG,0BAA0B,CAAC;QAE1B,UAAK,GAAG;YACb;gBACI,IAAI,EAAE,iBAAiB;gBACvB,qFAAM;gBACN,KAAK,EAAE,SAAS;aACnB;YACD;gBACI,IAAI,EAAE,aAAa;gBACnB,MAAM,EAAE,EAAE;gBACV,KAAK,EAAE,SAAS;aACnB;SACJ,CAAC;QAMF,cAAS,GAA6B,KAAK,CAAC,EAAE,CAC1C,kEAAY,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;KAwCtD;IA7CG,IAAI,OAAO;QACP,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC;IACzC,CAAC;IAKD,OAAO,CAAC,KAAY,EAAE,KAAuB;QACzC,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAEjC,IAAI,CAAC,IAAI,EAAE;YACP,OAAO;SACV;QAED,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,sEAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACzC,CAAC;IAED,WAAW,CAAC,QAA6B;QACrC,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;QAEhE,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACrD,CAAC;IAED,OAAO,CAAC,KAAa,EAAE,QAA6B;QAChD,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QAC/C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAChD,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;QAElD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,sEAAgB,CAAC,QAAQ,CAAC,CAAC;QAC3B,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACvB,QAAQ,CAAC,iBAAiB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC7C,CAAC;IAGO,gBAAgB,CAAC,KAAsB,EAAE,MAAc;QAC3D,OAAO,KAAK,CAAC,MAAM,CACf,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,EAAE,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CACzE,CAAC;IACN,CAAC;IAEO,gBAAgB,CAAC,QAA6B;QAClD,OAAO,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,cAAc,CAAC,CAAC;IACtF,CAAC;;wGA/DQ,4BAA4B;4GAA5B,4BAA4B;kEACvB,iEAAkB,QAAS,wDAAU;;;;;QCvBvD,sFAUI;QAJA,uMAAmB,6HACA,oBAAgB,MAAM,CAAC,IADvB,iIAEE,oBAAgB,OAAO,CAAC,IAF1B;QAInB,4EACJ;QAAA,4DAAgB;QAChB,oNACI;;;QAVA,mFAA+B;;AD0E/B;IADC,qDAAO;oEAKP;6FA3DQ,4BAA4B;cAPxC,uDAAS;eAAC;gBACP,QAAQ,EAAE,kCAAkC;gBAC5C,WAAW,EAAE,cAAc;gBAC3B,SAAS,EAAE,CAAC,cAAc,CAAC;gBAC3B,+FAAe;gBACf,wFAAa;aAChB;;kBAEI,0DAAY;mBAAC,iEAAkB,EAAE,EAAC,IAAI,EAAE,wDAAU,EAAC","file":"directives-dropdown-selection-dropdown-selection-module.js","sourcesContent":["import {Component} from '@angular/core';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {TuiDocExample} from '@taiga-ui/addon-doc';\nimport {\n    DEFAULT_MAX_HEIGHT,\n    DEFAULT_MIN_HEIGHT,\n    TuiDropdownWidthT,\n    TuiHorizontalDirection,\n    TuiVerticalDirection,\n} from '@taiga-ui/core';\nimport {TuiDropdownPositionT} from '@taiga-ui/kit';\n\n@Component({\n    selector: `example-tui-dropdown-selection`,\n    templateUrl: `./dropdown-selection.template.html`,\n    styleUrls: [`./dropdown-selection.style.less`],\n    changeDetection,\n})\nexport class ExampleTuiDropdownSelectionComponent {\n    readonly exampleModule = import(`!!raw-loader!./examples/import/import-module.md`);\n    readonly exampleHtml = import(`!!raw-loader!./examples/import/insert-template.md`);\n\n    readonly example1: TuiDocExample = {\n        TypeScript: import(`!!raw-loader!./examples/1/index.ts`),\n        HTML: import(`!!raw-loader!./examples/1/index.html`),\n    };\n\n    readonly example2: TuiDocExample = {\n        TypeScript: import(`!!raw-loader!./examples/2/index.ts`),\n        HTML: import(`!!raw-loader!./examples/2/index.html`),\n        LESS: import(`!!raw-loader!./examples/2/index.less`),\n    };\n\n    positionVariants: TuiDropdownPositionT[] = [`selection`, `word`, `tag`];\n\n    open = false;\n\n    position = this.positionVariants[0];\n\n    tuiDropdownMinHeight = DEFAULT_MIN_HEIGHT;\n\n    tuiDropdownMaxHeight = DEFAULT_MAX_HEIGHT;\n\n    tuiDropdownSided = false;\n\n    alignVariants: TuiHorizontalDirection[] = [`right`, `left`];\n\n    tuiDropdownAlign = this.alignVariants[0];\n\n    readonly dropdownDirectionVariants: readonly TuiVerticalDirection[] = [\n        `top`,\n        `bottom`,\n    ];\n\n    tuiDropdownDirection: TuiVerticalDirection | null = null;\n\n    readonly tuiDropdownLimitWidthVariants: readonly TuiDropdownWidthT[] = [\n        `fixed`,\n        `min`,\n        `auto`,\n    ];\n\n    tuiDropdownLimitWidth: TuiDropdownWidthT = this.tuiDropdownLimitWidthVariants[0];\n}\n","<tui-doc-page\n    header=\"DropdownSelection\"\n    package=\"KIT\"\n    type=\"directives\"\n>\n    <ng-template pageTab>\n        <p i18n>\n            <code>tuiDropdownSelection</code>\n            shows dropdown with custom template on selected text\n        </p>\n\n        <tui-doc-example\n            id=\"selection\"\n            i18n-heading\n            heading=\"Sample\"\n            [content]=\"example1\"\n        >\n            <tui-dropdown-selection-example-1></tui-dropdown-selection-example-1>\n        </tui-doc-example>\n\n        <tui-doc-example\n            id=\"textarea\"\n            heading=\"textarea\"\n            [content]=\"example2\"\n        >\n            <tui-dropdown-selection-example-2></tui-dropdown-selection-example-2>\n        </tui-doc-example>\n    </ng-template>\n\n    <ng-template pageTab>\n        <tui-doc-demo>\n            <p\n                i18n\n                tuiDropdownSelection\n                [tuiDropdownSelectionPosition]=\"position\"\n                [tuiDropdownContent]=\"dropdownContent\"\n                [tuiDropdownMinHeight]=\"tuiDropdownMinHeight\"\n                [tuiDropdownMaxHeight]=\"tuiDropdownMaxHeight\"\n                [tuiDropdownAlign]=\"tuiDropdownAlign\"\n                [tuiDropdownDirection]=\"tuiDropdownDirection\"\n                [tuiDropdownLimitWidth]=\"tuiDropdownLimitWidth\"\n                [tuiDropdownSided]=\"tuiDropdownSided\"\n            >\n                Select a text to\n                <strong>see a dropdown</strong>\n            </p>\n            <ng-template #dropdownContent>\n                <div\n                    i18n\n                    class=\"dropdown\"\n                >\n                    Here you can have any content\n                    <p>You can select a text inside a dropdown and it will not close a dropdown</p>\n                    <button\n                        tuiButton\n                        type=\"button\"\n                    >\n                        Button\n                    </button>\n                </div>\n            </ng-template>\n        </tui-doc-demo>\n        <tui-doc-documentation>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownContent\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"PolymorpheusContent\"\n            >\n                Content\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownAlign\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"TuiHorizontalDirection\"\n                [documentationPropertyValues]=\"alignVariants\"\n                [(documentationPropertyValue)]=\"tuiDropdownAlign\"\n            >\n                Align of dropdown (does not work together with\n                <code>limitWidth === 'fixed'</code>\n                )\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownDirection\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"TuiVerticalDirection | null\"\n                [documentationPropertyValues]=\"dropdownDirectionVariants\"\n                [(documentationPropertyValue)]=\"tuiDropdownDirection\"\n            >\n                Set a vertical direction of dropdown\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownHost\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"HTMLElement | null\"\n            >\n                Set dropdown host manually. For example, it will be a target if someone blurs dropdown with\n                Tab/Shift+Tab. Element with a directive is used by default.\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownLimitWidth\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"TuiDropdownWidthT\"\n                [documentationPropertyValues]=\"tuiDropdownLimitWidthVariants\"\n                [(documentationPropertyValue)]=\"tuiDropdownLimitWidth\"\n            >\n                Limit dropdown width\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownMinHeight\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"number\"\n                [(documentationPropertyValue)]=\"tuiDropdownMinHeight\"\n            >\n                Minimum height to calculate that dropdown fits to setted\n                <code>tuiDropdownDirection</code>\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownMaxHeight\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"number\"\n                [(documentationPropertyValue)]=\"tuiDropdownMaxHeight\"\n            >\n                Maximum height of dropdown\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownSelection\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"TuiBooleanHandler<Range>\"\n            >\n                <strong>Directive selector</strong>\n                . Optional: you can also set a handler that gets\n                <code>Range</code>\n                and returns show/close dropdown\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownSelectionPosition\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"'selection' | 'word' | 'tag'\"\n                [documentationPropertyValues]=\"positionVariants\"\n                [(documentationPropertyValue)]=\"position\"\n            >\n                Position of dropdown near text selection\n            </ng-template>\n            <ng-template\n                i18n\n                documentationPropertyName=\"tuiDropdownSided\"\n                documentationPropertyMode=\"input\"\n                documentationPropertyType=\"boolean\"\n                [(documentationPropertyValue)]=\"tuiDropdownSided\"\n            >\n                Dropdown is sided by host\n            </ng-template>\n        </tui-doc-documentation>\n    </ng-template>\n\n    <ng-template pageTab>\n        <ol class=\"b-demo-steps\">\n            <li>\n                <p i18n>\n                    Import\n                    <code>TuiDropdownModule</code>\n                    into a module where you want to use our component\n                </p>\n\n                <tui-doc-code\n                    filename=\"myComponent.module.ts\"\n                    [code]=\"exampleModule\"\n                ></tui-doc-code>\n            </li>\n\n            <li>\n                <p i18n>Add to the template:</p>\n\n                <tui-doc-code\n                    filename=\"myComponent.template.html\"\n                    [code]=\"exampleHtml\"\n                ></tui-doc-code>\n            </li>\n        </ol>\n    </ng-template>\n</tui-doc-page>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {generateRoutes, TuiAddonDocModule} from '@taiga-ui/addon-doc';\nimport {TuiButtonModule, TuiDataListModule} from '@taiga-ui/core';\nimport {\n    TuiAvatarModule,\n    TuiDropdownSelectionModule,\n    TuiTextAreaModule,\n} from '@taiga-ui/kit';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {ExampleTuiDropdownSelectionComponent} from './dropdown-selection.component';\nimport {TuiDropdownSelectionExample1} from './examples/1';\nimport {TuiDropdownSelectionExample2} from './examples/2';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        PolymorpheusModule,\n        TuiDropdownSelectionModule,\n        TuiButtonModule,\n        TuiTextAreaModule,\n        TuiAvatarModule,\n        TuiDataListModule,\n        TuiAddonDocModule,\n        RouterModule.forChild(generateRoutes(ExampleTuiDropdownSelectionComponent)),\n    ],\n    declarations: [\n        ExampleTuiDropdownSelectionComponent,\n        TuiDropdownSelectionExample1,\n        TuiDropdownSelectionExample2,\n    ],\n    exports: [ExampleTuiDropdownSelectionComponent],\n})\nexport class ExampleTuiDropdownSelectionModule {}\n","import {Component} from '@angular/core';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {encapsulation} from '@demo/emulate/encapsulation';\n\n@Component({\n    selector: `tui-dropdown-selection-example-1`,\n    templateUrl: `./index.html`,\n    changeDetection,\n    encapsulation,\n})\nexport class TuiDropdownSelectionExample1 {}\n","Dropdown will be shown text selection:\n<p\n    tuiDropdownSelection\n    tuiDropdownSelectionPosition=\"selection\"\n    tuiDropdownContent=\"&nbsp;&nbsp;Dropdown text&nbsp;&nbsp;\"\n>\n    Select a text to see dropdown\n</p>\n","import {Component, ElementRef, QueryList, ViewChildren} from '@angular/core';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {encapsulation} from '@demo/emulate/encapsulation';\nimport {EMPTY_QUERY, setNativeFocused, TuiBooleanHandler, tuiPure} from '@taiga-ui/cdk';\nimport {TuiOptionComponent} from '@taiga-ui/core';\nimport {getWordRange} from '@taiga-ui/kit';\n\nimport {default as avatar} from '!!file-loader!../../../../../assets/images/avatar.jpg';\n\nexport interface User {\n    readonly name: string;\n    readonly avatar: string;\n    readonly login: string;\n}\n\n@Component({\n    selector: `tui-dropdown-selection-example-2`,\n    templateUrl: `./index.html`,\n    styleUrls: [`./index.less`],\n    changeDetection,\n    encapsulation,\n})\nexport class TuiDropdownSelectionExample2 {\n    @ViewChildren(TuiOptionComponent, {read: ElementRef})\n    private readonly options: QueryList<ElementRef<HTMLElement>> = EMPTY_QUERY;\n\n    value = `Type @ to see a dropdown`;\n\n    readonly items = [\n        {\n            name: `Alexander Inkin`,\n            avatar,\n            login: `a.inkin`,\n        },\n        {\n            name: `Roman Sedov`,\n            avatar: ``,\n            login: `r.sedov`,\n        },\n    ];\n\n    get focused(): true | null {\n        return !!this.options.length || null;\n    }\n\n    predicate: TuiBooleanHandler<Range> = range =>\n        getWordRange(range).toString().startsWith(`@`);\n\n    onArrow(event: Event, which: 'first' | 'last'): void {\n        const item = this.options[which];\n\n        if (!item) {\n            return;\n        }\n\n        event.preventDefault();\n        setNativeFocused(item.nativeElement);\n    }\n\n    filterItems(textarea: HTMLTextAreaElement): readonly User[] {\n        const search = this.getCurrentSearch(textarea).replace(`@`, ``);\n\n        return this.getFilteredItems(this.items, search);\n    }\n\n    onClick(login: string, textarea: HTMLTextAreaElement): void {\n        const search = this.getCurrentSearch(textarea);\n        const value = this.value.replace(search, login);\n        const caret = value.indexOf(login) + login.length;\n\n        this.value = value;\n        setNativeFocused(textarea);\n        textarea.value = value;\n        textarea.setSelectionRange(caret, caret);\n    }\n\n    @tuiPure\n    private getFilteredItems(items: readonly User[], search: string): readonly User[] {\n        return items.filter(\n            ({name, login}) => login.startsWith(search) || name.startsWith(search),\n        );\n    }\n\n    private getCurrentSearch(textarea: HTMLTextAreaElement): string {\n        return textarea.value.slice(textarea.value.indexOf(`@`), textarea.selectionStart);\n    }\n}\n","<tui-text-area\n    #textarea\n    tuiDropdownSelectionPosition=\"word\"\n    [tuiDropdownContent]=\"dropdown\"\n    [tuiDropdownSelection]=\"predicate\"\n    [pseudoFocused]=\"focused\"\n    [(ngModel)]=\"value\"\n    (keydown.arrowUp)=\"onArrow($event, 'last')\"\n    (keydown.arrowDown)=\"onArrow($event, 'first')\"\n>\n    Type a message\n</tui-text-area>\n<ng-template #dropdown>\n    <tui-data-list\n        *ngIf=\"textarea.nativeFocusableElement\"\n        class=\"menu\"\n        (keydown.escape)=\"textarea.nativeFocusableElement.focus()\"\n    >\n        <button\n            *ngFor=\"let item of filterItems(textarea.nativeFocusableElement)\"\n            tuiOption\n            (click)=\"onClick(item.login, textarea.nativeFocusableElement)\"\n        >\n            {{ item.name }}\n            <tui-avatar\n                size=\"s\"\n                [rounded]=\"true\"\n                [avatarUrl]=\"item.avatar\"\n                [text]=\"item.name\"\n            ></tui-avatar>\n        </button>\n    </tui-data-list>\n</ng-template>\n"],"sourceRoot":"webpack:///"}