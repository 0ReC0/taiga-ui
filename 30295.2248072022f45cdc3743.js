"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[30295],{30295:(f,i,t)=>{t.r(i),t.d(i,{Placeholder:()=>r,default:()=>r});var u=t(12867),a=t(62463),l=t(43594);const r=u.Extension.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new a.Sy({key:new a.H$("placeholder"),props:{decorations:({doc:e,selection:E})=>{const _=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:d}=E,c=[];if(!_)return null;const o=e.type.createAndFill(),m=(null==o?void 0:o.sameMarkup(e))&&null===o.content.findDiffStart(e.content);return e.descendants((n,s)=>{const p=d>=s&&d<=s+n.nodeSize;if((p||!this.options.showOnlyCurrent)&&!n.isLeaf&&!n.childCount){const h=[this.options.emptyNodeClass];m&&h.push(this.options.emptyEditorClass);const C=l.p.node(s,s+n.nodeSize,{class:h.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:n,pos:s,hasAnchor:p}):this.options.placeholder});c.push(C)}return this.options.includeChildren}),l.EH.create(e,c)}}})]}})}}]);