<tui-doc-page header="Disable animation">
    <p>
        During integration testing you can face with problem of flaky tests caused by animation. It is especially
        crucial if you are writing screenshot tests. For example, you want to make screenshot of dialog content: you
        click button which opens dialog and make screenshot. Sometimes screenshots can be made too early (before dialog
        fully opens) and test fails.
    </p>

    <p>
        To avoid this
        <strong>we recommend to toggle all animation off while integration test works.</strong>
    </p>

    <p>
        <code>&#64;taiga-ui/cdk</code>
        used
        <ng-container *ngIf="'TUI_REDUCED_MOTION' | tuiDocTypeReference as refs">
            <code *ngFor="let ref of refs">
                <a
                    target="_blank"
                    tuiLink
                    [attr.href]="ref.reference"
                >
                    {{ ref.type }}
                </a>
            </code>
        </ng-container>

        token which disables all animations for taiga-ui components. That token based on
        <code>prefers-reduced-motion</code>
        . The prefers-reduced-motion CSS media feature is used to detect if a user has enabled a setting on their device
        to minimize the amount of non-essential motion.. The setting is used to convey to the browser on the device that
        the user prefers an interface that removes, reduces, or replaces motion-based animations.
    </p>

    <tui-tabs-with-more
        #tabs
        class="tabs"
    >
        <button
            *tuiItem
            tuiTab
        >
            <div class="tab">
                <img
                    alt="logo"
                    src="assets/icons/cypress.svg"
                    class="icon"
                />
                cypress.config.ts
            </div>
        </button>
        <button
            *tuiItem
            tuiTab
        >
            <div class="tab">
                <img
                    alt="logo"
                    src="assets/icons/playwright.svg"
                    class="icon"
                />
                playwright.config.ts
            </div>
        </button>
    </tui-tabs-with-more>

    <tui-doc-code
        *ngIf="tabs.activeItemIndex === 0"
        [code]="cypress"
    ></tui-doc-code>
    <tui-doc-code
        *ngIf="tabs.activeItemIndex === 1"
        [code]="playwright"
    ></tui-doc-code>
</tui-doc-page>
