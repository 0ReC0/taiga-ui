"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[13725],{13725:(e,s,o)=>{o.r(s),o.d(s,{FocusClasses:()=>d,default:()=>d});var t=o(12867),i=o(62463),n=o(43594);const d=t.Extension.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new i.Sy({key:new i.H$("focus"),props:{decorations:({doc:e,selection:s})=>{const{isEditable:o,isFocused:t}=this.editor,{anchor:i}=s,d=[];if(!o||!t)return n.EH.create(e,[]);let a=0;"deepest"===this.options.mode&&e.descendants(((e,s)=>{if(!e.isText)return i>=s&&i<=s+e.nodeSize-1&&void(a+=1)}));let c=0;return e.descendants(((e,s)=>!e.isText&&(i>=s&&i<=s+e.nodeSize-1&&(c+=1,"deepest"===this.options.mode&&a-c>0||"shallowest"===this.options.mode&&c>1?"deepest"===this.options.mode:void d.push(n.p.node(s,s+e.nodeSize,{class:this.options.className})))))),n.EH.create(e,d)}}})]}})}}]);