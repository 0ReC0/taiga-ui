"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[89325],{89325:(K,a,i)=>{i.r(a),i.d(a,{Youtube:()=>F});var s=i(12867),L=/^(https?:\/\/)?(www\.|music\.)?(youtube\.com|youtu\.be)(.+)?$/,v=/^(https?:\/\/)?(www\.|music\.)?(youtube\.com|youtu\.be)(.+)?$/g,l=t=>t?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/";const F=s.Node.create({name:"youtube",addOptions:()=>({addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML:()=>[{tag:"div[data-youtube-video] iframe"}],addCommands(){return{setYoutubeVideo:t=>({commands:e})=>!!(t=>t.match(L))(t.src)&&e.insertContent({type:this.name,attrs:t})}},addPasteRules(){return this.options.addPasteHandler?[(0,s.nodePasteRule)({find:v,type:this.type,getAttributes:t=>({src:t.input})})]:[]},renderHTML({HTMLAttributes:t}){const e=(t=>{const{url:e,allowFullscreen:A,autoplay:C,ccLanguage:r,ccLoadPolicy:U,controls:k,disableKBcontrols:T,enableIFrameApi:Y,endTime:u,interfaceLanguage:p,ivLoadPolicy:c,loop:E,modestBranding:I,nocookie:d,origin:h,playlist:g,progressBarColor:f,startAt:m}=t;if(e.includes("/embed/"))return e;if(e.includes("youtu.be")){const y=e.split("/").pop();return y?`${l(d)}${y}`:null}const n=/v=([-\w]+)/gm.exec(e);if(!n||!n[1])return null;let b=`${l(d)}${n[1]}`;const o=[];return!1===A&&o.push("fs=0"),C&&o.push("autoplay=1"),r&&o.push(`cc_lang_pref=${r}`),U&&o.push("cc_load_policy=1"),k||o.push("controls=0"),T&&o.push("disablekb=1"),Y&&o.push("enablejsapi=1"),u&&o.push(`end=${u}`),p&&o.push(`hl=${p}`),c&&o.push(`iv_load_policy=${c}`),E&&o.push("loop=1"),I&&o.push("modestbranding=1"),h&&o.push(`origin=${h}`),g&&o.push(`playlist=${g}`),m&&o.push(`start=${m}`),f&&o.push(`color=${f}`),o.length&&(b+=`?${o.join("&")}`),b})({url:t.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:t.start||0});return t.src=e,["div",{"data-youtube-video":""},["iframe",(0,s.mergeAttributes)(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor},t)]]}}).extend({}).configure({autoplay:!1,ccLanguage:"en",interfaceLanguage:"en",allowFullscreen:!0,disableKBcontrols:!0})}}]);