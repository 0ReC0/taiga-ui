"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[42629],{42629:(H,p,e)=>{e.r(p),e.d(p,{ExampleTuiEditorEmbedHtml5Module:()=>L});var v=e(12057),l=e(24751),c=e(33982),h=e(29851),s=e(48014),m=e(68339),u=e(3497),o=e(74788),M=e(88331),D=e(66596),f=e(57068),O=e(64762),g=e(91211),y=e(88002),C=e(69303);class a{constructor(t,i){this.isCypress=t,this.sanitizer=i,this.builtInTools=[s.TuiEditorTool.Undo,s.TuiEditorTool.Link,s.TuiEditorTool.Attach],this.control=new l.NI(`\n            <p>Here is video: </p>\n\n            <video controls="controls" width="100%" preload="${this.isCypress?"none":"auto"}">\n                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">\n            </video>\n\n            <p>Here is audio: </p>\n            <audio controls style="width: 100%" preload="${this.isCypress?"none":"auto"}">\n              <source src="https://www.w3docs.com/build/audios/audio.mp3" type="audio/mp3">\n            </audio>\n\n            <p></p>\n            `,l.kI.required)}safe(t){return this.sanitizer.bypassSecurityTrustHtml(t)}attach([t]){var i,d,r,E,T;const F=`${null!==(d=null===(i=t.attrs)||void 0===i?void 0:i.type)&&void 0!==d?d:""}`.split("/")[0];null===(E=null===(r=this.wysiwyg)||void 0===r?void 0:r.editor)||void 0===E||E.getOriginTiptapEditor().commands.insertContent(`<${F} controls width="100%"><source src="${t.link}" type="${null===(T=t.attrs)||void 0===T?void 0:T.type}"></${F}><p><a href="${t.link}" download="${t.name}">Download ${t.name}</a></p>`)}}a.\u0275fac=function(t){return new(t||a)(o.Y36(m.TUI_IS_CYPRESS),o.Y36(g.H7))},a.\u0275cmp=o.Xpm({type:a,selectors:[["tui-editor-embed-html5-example-1"]],viewQuery:function(t,i){if(1&t&&o.Gf(s.TuiEditorComponent,5),2&t){let d;o.iGM(d=o.CRH())&&(i.wysiwyg=d.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("_cypress",i.isCypress)},features:[o._Bn([{provide:s.TUI_EDITOR_EXTENSIONS,deps:[o.zs3],useFactory:n=>[Promise.resolve().then(e.bind(e,2823)).then(({StarterKit:t})=>t),Promise.resolve().then(e.bind(e,84402)).then(({TextStyle:t})=>t),Promise.resolve().then(e.bind(e,82091)).then(({TuiLink:t})=>t),e.e(54058).then(e.bind(e,54058)).then(({TuiJumpAnchor:t})=>t),Promise.resolve().then(e.bind(e,93763)).then(({TuiFileLink:t})=>t),Promise.resolve().then(e.bind(e,41512)).then(({TuiVideo:t})=>t),Promise.resolve().then(e.bind(e,41512)).then(({TuiAudio:t})=>t),Promise.resolve().then(e.bind(e,41512)).then(({TuiSource:t})=>t)]},{provide:s.TUI_ATTACH_FILES_LOADER,deps:[],useFactory:()=>([n])=>{const t=new FileReader;return t.readAsDataURL(n),(0,m.tuiTypedFromEvent)(t,"load").pipe((0,y.U)(()=>[{name:n.name,link:String(t.result),attrs:{type:n.type}}]))}},{provide:s.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"video/mp4,video/x-m4v,video/*,audio/x-m4a,audio/*",multiple:!1}}])],decls:8,vars:4,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"innerHTML"]],template:function(t,i){1&t&&(o.TgZ(0,"tui-editor",0),o.NdJ("fileAttached",function(r){return i.attach(r)}),o.qZA(),o.TgZ(1,"h4"),o._uU(2,"HTML:"),o.qZA(),o._UZ(3,"div",1),o.TgZ(4,"h4"),o._uU(5,"Text:"),o.qZA(),o.TgZ(6,"p"),o._uU(7),o.qZA()),2&t&&(o.Q6J("formControl",i.control)("tools",i.builtInTools),o.xp6(3),o.Q6J("innerHTML",i.safe(i.control.value),o.oJD),o.xp6(4),o.Oqu(i.control.value))},directives:[C.a,l.JJ,l.oH],styles:["._cypress[_nghost-%COMP%]     video::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     video::-webkit-media-controls-time-remaining-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-time-remaining-display{display:none}"],changeDetection:0}),(0,O.gn)([m.tuiPure],a.prototype,"safe",null);let S=(()=>{class n{constructor(){this.example1={HTML:e.e(59762).then(e.t.bind(e,59762,17)),TypeScript:e.e(13436).then(e.t.bind(e,13436,17))}}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["editor-embed-html5"]],features:[o._Bn([{provide:s.TUI_EDITOR_EXTENSIONS,useValue:s.defaultEditorExtensions}])],decls:7,vars:1,consts:function(){let t,i;return t=$localize`:␟c1a95de6ffd08f110496afe73d9e3e9631407ea9␟2361436632859407436: Rich Text Editor based on ${"\ufffd#3\ufffd"}:START_LINK: TipTap Editor ${"[\ufffd/#3\ufffd|\ufffd/#4\ufffd]"}:CLOSE_LINK: for using with Angular forms. For safety reasons use a ${"\ufffd#4\ufffd"}:START_LINK_1: sanitizer ${"[\ufffd/#3\ufffd|\ufffd/#4\ufffd]"}:CLOSE_LINK: with this component. `,t=o.Zx4(t),i=$localize`:␟66cc1cb4baf1c79f0b9fdd26237b803760c014e4␟1205466532161122710:Video and audio / html5 native`,[["header","Editor","package","ADDON-EDITOR","type","components"],t,["tuiLink","","href","https://www.tiptap.dev/"],["tuiLink","","routerLink","/icon-set","fragment","sanitizer"],["id","video-audio","heading",i,3,"content"]]},template:function(i,d){1&i&&(o.TgZ(0,"tui-doc-page",0),o.TgZ(1,"p"),o.tHW(2,1),o._UZ(3,"a",2),o._UZ(4,"a",3),o.N_p(),o.qZA(),o.TgZ(5,"tui-doc-example",4),o._UZ(6,"tui-editor-embed-html5-example-1"),o.qZA(),o.qZA()),2&i&&(o.xp6(5),o.Q6J("content",d.example1))},directives:[M.q,D.V,c.yS,f.f,a],encapsulation:2,changeDetection:0}),n})(),L=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[v.ez,m.TuiActiveZoneModule,u.TuiSvgModule,u.TuiLinkModule,u.TuiHostedDropdownModule,u.TuiButtonModule,h.fV,l.u5,l.UX,s.TuiEditorModule,s.TuiEditorSocketModule,c.Bz.forChild((0,h.Ve)(S))]]}),n})()}}]);