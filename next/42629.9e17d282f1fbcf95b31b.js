(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[42629],{42629:(e,t,i)=>{i.r(t),i.d(t,{ExampleTuiEditorEmbedHtml5Module:()=>w});var o=i(12057),n=i(24751),s=i(33982),r=i(95124),d=i(48014),u=i(68807),a=i(3497),l=i(74788),p=i(43560),c=i(66596),m=i(33772),h=i(64762),T=i(91211),v=i(88002),y=i(69303);class _{constructor(e,t){this.isCypress=e,this.sanitizer=t,this.builtInTools=[d.TuiEditorTool.Undo,d.TuiEditorTool.Link,d.TuiEditorTool.Attach],this.control=new n.NI(`\n            <p>Here is video: </p>\n\n            <video controls="controls" width="100%" preload="${this.isCypress?"none":"auto"}">\n                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">\n            </video>\n\n            <p>Here is audio: </p>\n            <audio controls style="width: 100%" preload="${this.isCypress?"none":"auto"}">\n              <source src="https://www.w3docs.com/build/audios/audio.mp3" type="audio/mp3">\n            </audio>\n\n            <p></p>\n            `,n.kI.required)}safe(e){return this.sanitizer.bypassSecurityTrustHtml(e)}attach([e]){var t,i,o,n,s;const r=`${null!==(i=null===(t=e.attrs)||void 0===t?void 0:t.type)&&void 0!==i?i:""}`.split("/")[0];null===(n=null===(o=this.wysiwyg)||void 0===o?void 0:o.editor)||void 0===n||n.getOriginTiptapEditor().commands.insertContent(`<${r} controls width="100%"><source src="${e.link}" type="${null===(s=e.attrs)||void 0===s?void 0:s.type}"></${r}><p><a href="${e.link}" download="${e.name}">Download ${e.name}</a></p>`)}}_.ɵfac=function(e){return new(e||_)(l.Y36(u.TUI_IS_CYPRESS),l.Y36(T.H7))},_.ɵcmp=l.Xpm({type:_,selectors:[["tui-editor-embed-html5-example-1"]],viewQuery:function(e,t){if(1&e&&l.Gf(d.TuiEditorComponent,5),2&e){let e;l.iGM(e=l.CRH())&&(t.wysiwyg=e.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(e,t){2&e&&l.ekj("_cypress",t.isCypress)},features:[l._Bn([{provide:d.TUI_EDITOR_EXTENSIONS,deps:[l.zs3],useFactory:e=>[Promise.resolve().then(i.bind(i,2823)).then((({StarterKit:e})=>e)),Promise.resolve().then(i.bind(i,84402)).then((({TextStyle:e})=>e)),Promise.resolve().then(i.bind(i,82091)).then((({TuiLink:e})=>e)),i.e(54058).then(i.bind(i,54058)).then((({TuiJumpAnchor:e})=>e)),Promise.resolve().then(i.bind(i,93763)).then((({TuiFileLink:e})=>e)),Promise.resolve().then(i.bind(i,41512)).then((({TuiVideo:e})=>e)),Promise.resolve().then(i.bind(i,41512)).then((({TuiAudio:e})=>e)),Promise.resolve().then(i.bind(i,41512)).then((({TuiSource:e})=>e))]},{provide:d.TUI_ATTACH_FILES_LOADER,deps:[],useFactory:()=>([e])=>{const t=new FileReader;return t.readAsDataURL(e),(0,u.tuiTypedFromEvent)(t,"load").pipe((0,v.U)((()=>[{name:e.name,link:String(t.result),attrs:{type:e.type}}])))}},{provide:d.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"video/mp4,video/x-m4v,video/*,audio/x-m4a,audio/*",multiple:!1}}])],decls:8,vars:4,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"innerHTML"]],template:function(e,t){1&e&&(l.TgZ(0,"tui-editor",0),l.NdJ("fileAttached",(function(e){return t.attach(e)})),l.qZA(),l.TgZ(1,"h4"),l._uU(2,"HTML:"),l.qZA(),l._UZ(3,"div",1),l.TgZ(4,"h4"),l._uU(5,"Text:"),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.qZA()),2&e&&(l.Q6J("formControl",t.control)("tools",t.builtInTools),l.xp6(3),l.Q6J("innerHTML",t.safe(t.control.value),l.oJD),l.xp6(4),l.Oqu(t.control.value))},directives:[y.a,n.JJ,n.oH],styles:["._cypress[_nghost-%COMP%]     video::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     video::-webkit-media-controls-time-remaining-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-time-remaining-display{display:none}"],changeDetection:0}),(0,h.gn)([u.tuiPure],_.prototype,"safe",null);let f=(()=>{class e{constructor(){this.example1={HTML:i.e(59762).then(i.t.bind(i,59762,17)),TypeScript:i.e(13436).then(i.t.bind(i,13436,17))}}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l.Xpm({type:e,selectors:[["editor-embed-html5"]],features:[l._Bn([{provide:d.TUI_EDITOR_EXTENSIONS,useValue:d.defaultEditorExtensions}])],decls:11,vars:1,consts:[["header","Editor","package","ADDON-EDITOR","type","components"],["tuiLink","","href","https://www.tiptap.dev/"],["tuiLink","","routerLink","/icon-set","fragment","sanitizer"],["id","video-audio","heading","Video and audio / html5 native",3,"content"]],template:function(e,t){1&e&&(l.TgZ(0,"tui-doc-page",0),l.TgZ(1,"p"),l._uU(2," Rich Text Editor based on "),l.TgZ(3,"a",1),l._uU(4," TipTap Editor "),l.qZA(),l._uU(5," for using with Angular forms. For safety reasons use a "),l.TgZ(6,"a",2),l._uU(7," sanitizer "),l.qZA(),l._uU(8," with this component. "),l.qZA(),l.TgZ(9,"tui-doc-example",3),l._UZ(10,"tui-editor-embed-html5-example-1"),l.qZA(),l.qZA()),2&e&&(l.xp6(9),l.Q6J("content",t.example1))},directives:[p.q,c.V,s.yS,m.f,_],encapsulation:2,changeDetection:0}),e})(),w=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l.oAB({type:e}),e.ɵinj=l.cJS({imports:[[o.ez,u.TuiActiveZoneModule,a.TuiSvgModule,a.TuiLinkModule,a.TuiHostedDropdownModule,a.TuiButtonModule,r.fV,n.u5,n.UX,d.TuiEditorModule,d.TuiEditorSocketModule,s.Bz.forChild((0,r.Ve)(f))]]}),e})()}}]);