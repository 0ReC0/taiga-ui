"use strict";(self.webpackChunk_taiga_ui_components=self.webpackChunk_taiga_ui_components||[]).push([[42629],{42629:(I,T,e)=>{e.r(T),e.d(T,{ExampleTuiEditorEmbedHtml5Module:()=>U});var y=e(12057),l=e(24751),E=e(33982),c=e(29851),s=e(48014),r=e(63096),u=e(3497),t=e(74788),f=e(88331),g=e(66596),H=e(57068),A=e(64762),x=e(91211),C=e(88002),Z=e(69303);class m{constructor(o,i){this.isCypress=o,this.sanitizer=i,this.builtInTools=[s.TuiEditorTool.Undo,s.TuiEditorTool.Link,s.TuiEditorTool.Attach],this.control=new l.NI(`\n            <p>Here is video: </p>\n\n            <video controls="controls" width="100%" preload="${this.isCypress?"none":"auto"}">\n                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">\n            </video>\n\n            <p>Here is audio: </p>\n            <audio controls style="width: 100%" preload="${this.isCypress?"none":"auto"}">\n              <source src="https://www.w3docs.com/build/audios/audio.mp3" type="audio/mp3">\n            </audio>\n\n            <p></p>\n            `,l.kI.required)}safe(o){return this.sanitizer.bypassSecurityTrustHtml(o)}attach([o]){var i,d,a,p,h;const v=`${null!==(d=null===(i=o.attrs)||void 0===i?void 0:i.type)&&void 0!==d?d:""}`.split("/")[0];null===(p=null===(a=this.wysiwyg)||void 0===a?void 0:a.editor)||void 0===p||p.getOriginTiptapEditor().commands.insertContent(`<${v} controls width="100%"><source src="${o.link}" type="${null===(h=o.attrs)||void 0===h?void 0:h.type}"></${v}><p><a href="${o.link}" download="${o.name}">Download ${o.name}</a></p>`)}}m.\u0275fac=function(o){return new(o||m)(t.Y36(r.TUI_IS_CYPRESS),t.Y36(x.H7))},m.\u0275cmp=t.Xpm({type:m,selectors:[["tui-editor-embed-html5-example-1"]],viewQuery:function(o,i){if(1&o&&t.Gf(s.TuiEditorComponent,5),2&o){let d;t.iGM(d=t.CRH())&&(i.wysiwyg=d.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(o,i){2&o&&t.ekj("_cypress",i.isCypress)},features:[t._Bn([{provide:s.TUI_EDITOR_EXTENSIONS,deps:[t.zs3],useFactory:n=>[Promise.resolve().then(e.bind(e,2823)).then(({StarterKit:o})=>o),Promise.resolve().then(e.bind(e,84402)).then(({TextStyle:o})=>o),Promise.resolve().then(e.bind(e,82091)).then(({TuiLink:o})=>o),e.e(54058).then(e.bind(e,54058)).then(({TuiJumpAnchor:o})=>o),Promise.resolve().then(e.bind(e,93763)).then(({TuiFileLink:o})=>o),Promise.resolve().then(e.bind(e,41512)).then(({TuiVideo:o})=>o),Promise.resolve().then(e.bind(e,41512)).then(({TuiAudio:o})=>o),Promise.resolve().then(e.bind(e,41512)).then(({TuiSource:o})=>o)]},{provide:s.TUI_ATTACH_FILES_LOADER,deps:[],useFactory:()=>([n])=>{const o=new FileReader;return o.readAsDataURL(n),(0,r.tuiTypedFromEvent)(o,"load").pipe((0,C.U)(()=>[{name:n.name,link:String(o.result),attrs:{type:n.type}}]))}},{provide:s.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"video/mp4,video/x-m4v,video/*,audio/x-m4a,audio/*",multiple:!1}}])],decls:8,vars:4,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"innerHTML"]],template:function(o,i){1&o&&(t.TgZ(0,"tui-editor",0),t.NdJ("fileAttached",function(a){return i.attach(a)}),t.qZA(),t.TgZ(1,"h4"),t._uU(2,"HTML:"),t.qZA(),t._UZ(3,"div",1),t.TgZ(4,"h4"),t._uU(5,"Text:"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()),2&o&&(t.Q6J("formControl",i.control)("tools",i.builtInTools),t.xp6(3),t.Q6J("innerHTML",i.safe(i.control.value),t.oJD),t.xp6(4),t.Oqu(i.control.value))},directives:[Z.a,l.JJ,l.oH],styles:["._cypress[_nghost-%COMP%]     video::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     video::-webkit-media-controls-time-remaining-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-current-time-display, ._cypress[_nghost-%COMP%]     audio::-webkit-media-controls-time-remaining-display{display:none}"],changeDetection:0}),(0,A.gn)([r.tuiPure],m.prototype,"safe",null);let M=(()=>{class n{constructor(){this.example1={HTML:e.e(59762).then(e.t.bind(e,59762,17)),TypeScript:e.e(13436).then(e.t.bind(e,13436,17))}}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["editor-embed-html5"]],features:[t._Bn([{provide:s.TUI_EDITOR_EXTENSIONS,useValue:s.defaultEditorExtensions}])],decls:11,vars:1,consts:[["header","Editor","package","ADDON-EDITOR","type","components"],["tuiLink","","href","https://www.tiptap.dev/"],["tuiLink","","routerLink","/icon-set","fragment","sanitizer"],["id","video-audio","heading","Video and audio / html5 native",3,"content"]],template:function(i,d){1&i&&(t.TgZ(0,"tui-doc-page",0),t.TgZ(1,"p"),t._uU(2," Rich Text Editor based on "),t.TgZ(3,"a",1),t._uU(4," TipTap Editor "),t.qZA(),t._uU(5," for using with Angular forms. For safety reasons use a "),t.TgZ(6,"a",2),t._uU(7," sanitizer "),t.qZA(),t._uU(8," with this component. "),t.qZA(),t.TgZ(9,"tui-doc-example",3),t._UZ(10,"tui-editor-embed-html5-example-1"),t.qZA(),t.qZA()),2&i&&(t.xp6(9),t.Q6J("content",d.example1))},directives:[f.q,g.V,E.yS,H.f,m],encapsulation:2,changeDetection:0}),n})(),U=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.ez,r.TuiActiveZoneModule,u.TuiSvgModule,u.TuiLinkModule,u.TuiHostedDropdownModule,u.TuiButtonModule,c.fV,l.u5,l.UX,s.TuiEditorModule,s.TuiEditorSocketModule,E.Bz.forChild((0,c.Ve)(M))]]}),n})()}}]);